{% extends 'base.html' %}

{% block title %}{% if meta %}Editar{% else %}Nova{% endif %} Meta - Budget{% endblock %}

{% block content %}
<h1 style="color: white; margin-bottom: 2rem; font-size: 2.5rem;">
    {% if meta %}âœï¸ Editar Meta{% else %}â• Nova Meta{% endif %}
</h1>

<div class="card">
    <form method="post" style="max-width: 600px;">
        {% csrf_token %}

        <div style="margin-bottom: 1.5rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Nome da Meta *</label>
            <input type="text" name="nome" value="{{ meta.nome|default:'' }}" required
                   style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                   placeholder="Ex: Viagem para Europa, Carro novo, Reserva de emergÃªncia">
        </div>

        <div style="margin-bottom: 1.5rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Valor Alvo *</label>
            <input type="number" name="valor_alvo" value="{{ meta.valor_alvo|default:'' }}" required step="0.01" min="0"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                   placeholder="0.00">
        </div>

        <div style="margin-bottom: 1.5rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Valor Atual</label>
            <input type="number" name="valor_atual" value="{{ meta.valor_atual|default:'0' }}" step="0.01" min="0"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                   placeholder="0.00">
            <p style="color: #666; font-size: 0.85rem; margin-top: 0.5rem;">Quanto vocÃª jÃ¡ economizou para esta meta</p>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
            <div>
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Data de InÃ­cio *</label>
                <input type="date" name="data_inicio" value="{{ meta.data_inicio|date:'Y-m-d'|default:'' }}" required
                       style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
            </div>

            <div>
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Data Alvo *</label>
                <input type="date" name="data_alvo" value="{{ meta.data_alvo|date:'Y-m-d'|default:'' }}" required
                       style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
            </div>
        </div>

        {% if meta %}
        <div style="margin-bottom: 2rem;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" name="concluida" {% if meta.concluida %}checked{% endif %}
                       style="margin-right: 0.5rem; width: 18px; height: 18px; cursor: pointer;">
                <span style="font-weight: 600;">Meta concluÃ­da</span>
            </label>
        </div>
        {% endif %}

        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-primary">
                {% if meta %}ğŸ’¾ Salvar AlteraÃ§Ãµes{% else %}â• Criar Meta{% endif %}
            </button>
            <a href="{% url 'metas' %}" class="btn" style="background: #f3f4f6; color: #333; text-decoration: none;">
                âŒ Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}
